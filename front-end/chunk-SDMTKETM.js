import{a as pt,b as Qe,c as et,d as tt,e as it}from"./chunk-JML65HDN.js";import{a as ze,d as Ye,n as Je,o as Xe,s as Ze}from"./chunk-TWZKI4VX.js";import{a as dt}from"./chunk-V45YFJOR.js";import{d as Be,e as We,f as $e,o as qe,z as Ke}from"./chunk-VE3AD5Y3.js";import{p as _e}from"./chunk-QSIHMZNO.js";import{Cb as Re,Rb as Ge,Sb as Ie,Tb as Ve,Vb as Ue,Ya as ke,Za as we,a as Ne,d as je,e as ye,f as ce,ia as Pe,nb as ve,tb as He,ub as Le,vb as Ae}from"./chunk-II3ZEASU.js";var nt=je((ht,Ee)=>{"use strict";(function(R){typeof Ee=="object"&&Ee.exports?(R.default=R,Ee.exports=R):typeof define=="function"&&define.amd?define("highcharts/modules/exporting",["highcharts"],function(d){return R(d),R.Highcharts=d,R}):R(typeof Highcharts<"u"?Highcharts:void 0)})(function(R){"use strict";var d=R?R._modules:{};function te(s,c,h,j){s.hasOwnProperty(c)||(s[c]=j.apply(null,h),typeof CustomEvent=="function"&&R.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:s[c]}})))}te(d,"Core/Chart/ChartNavigationComposition.js",[],function(){var s;return function(c){c.compose=function(j){return j.navigation||(j.navigation=new h(j)),j};class h{constructor(M){this.updates=[],this.chart=M}addUpdate(M){this.chart.navigation.updates.push(M)}update(M,P){this.updates.forEach(o=>{o.call(this.chart,M,P)})}}c.Additions=h}(s||(s={})),s}),te(d,"Extensions/Exporting/ExportingDefaults.js",[d["Core/Globals.js"]],function(s){let{isTouchDevice:c}=s;return{exporting:{allowTableSorting:!0,type:"image/png",url:"https://export.highcharts.com/",pdfFont:{normal:void 0,bold:void 0,bolditalic:void 0,italic:void 0},printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG"]}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen&&this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:14.5,symbolY:13.5,align:"right",buttonSpacing:3,height:28,verticalAlign:"top",width:28,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",padding:5,stroke:"none","stroke-linecap":"round"}},menuStyle:{border:"none",borderRadius:"3px",background:"#ffffff",padding:"0.5em"},menuItemStyle:{background:"none",borderRadius:"3px",color:"#333333",padding:"0.5em",fontSize:c?"0.9em":"0.8em",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#f2f2f2"}}}}),te(d,"Extensions/Exporting/ExportingSymbols.js",[],function(){var s;return function(c){let h=[];function j(P,o,x,w){return[["M",P,o+2.5],["L",P+x,o+2.5],["M",P,o+w/2+.5],["L",P+x,o+w/2+.5],["M",P,o+w-1.5],["L",P+x,o+w-1.5]]}function M(P,o,x,w){let S=w/3-2;return[].concat(this.circle(x-S,o,S,S),this.circle(x-S,o+S+4,S,S),this.circle(x-S,o+2*(S+4),S,S))}c.compose=function(P){if(h.indexOf(P)===-1){h.push(P);let o=P.prototype.symbols;o.menu=j,o.menuball=M.bind(o)}}}(s||(s={})),s}),te(d,"Extensions/Exporting/Fullscreen.js",[d["Core/Renderer/HTML/AST.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(s,c,h){let{composed:j}=c,{addEvent:M,fireEvent:P,pushUnique:o}=h;function x(){this.fullscreen=new w(this)}class w{static compose(r){o(j,"Fullscreen")&&M(r,"beforeRender",x)}constructor(r){this.chart=r,this.isOpen=!1;let u=r.renderTo;!this.browserProps&&(typeof u.requestFullscreen=="function"?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:u.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:u.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:u.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}close(){let r=this,u=r.chart,U=u.options.chart;P(u,"fullscreenClose",null,function(){r.isOpen&&r.browserProps&&u.container.ownerDocument instanceof Document&&u.container.ownerDocument[r.browserProps.exitFullscreen](),r.unbindFullscreenEvent&&(r.unbindFullscreenEvent=r.unbindFullscreenEvent()),u.setSize(r.origWidth,r.origHeight,!1),r.origWidth=void 0,r.origHeight=void 0,U.width=r.origWidthOption,U.height=r.origHeightOption,r.origWidthOption=void 0,r.origHeightOption=void 0,r.isOpen=!1,r.setButtonText()})}open(){let r=this,u=r.chart,U=u.options.chart;P(u,"fullscreenOpen",null,function(){if(U&&(r.origWidthOption=U.width,r.origHeightOption=U.height),r.origWidth=u.chartWidth,r.origHeight=u.chartHeight,r.browserProps){let J=M(u.container.ownerDocument,r.browserProps.fullscreenChange,function(){r.isOpen?(r.isOpen=!1,r.close()):(u.setSize(null,null,!1),r.isOpen=!0,r.setButtonText())}),B=M(u,"destroy",J);r.unbindFullscreenEvent=()=>{J(),B()};let z=u.renderTo[r.browserProps.requestFullscreen]();z&&z.catch(function(){alert("Full screen is not supported inside a frame.")})}})}setButtonText(){let r=this.chart,u=r.exportDivElements,U=r.options.exporting,J=U&&U.buttons&&U.buttons.contextButton.menuItems,B=r.options.lang;if(U&&U.menuItemDefinitions&&B&&B.exitFullscreen&&B.viewFullscreen&&J&&u){let z=u[J.indexOf("viewFullscreen")];z&&s.setElementHTML(z,this.isOpen?B.exitFullscreen:U.menuItemDefinitions.viewFullscreen.text||B.viewFullscreen)}}toggle(){this.isOpen?this.close():this.open()}}return w}),te(d,"Core/HttpUtilities.js",[d["Core/Globals.js"],d["Core/Utilities.js"]],function(s,c){let{win:h}=s,{discardElement:j,objectEach:M}=c,P={ajax:function(o){let x={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"},w=new XMLHttpRequest;function S(r,u){o.error&&o.error(r,u)}if(!o.url)return!1;w.open((o.type||"get").toUpperCase(),o.url,!0),o.headers&&o.headers["Content-Type"]||w.setRequestHeader("Content-Type",x[o.dataType||"json"]||x.text),M(o.headers,function(r,u){w.setRequestHeader(u,r)}),o.responseType&&(w.responseType=o.responseType),w.onreadystatechange=function(){let r;if(w.readyState===4){if(w.status===200){if(o.responseType!=="blob"&&(r=w.responseText,o.dataType==="json"))try{r=JSON.parse(r)}catch(u){if(u instanceof Error)return S(w,u)}return o.success&&o.success(r,w)}S(w,w.responseText)}},o.data&&typeof o.data!="string"&&(o.data=JSON.stringify(o.data)),w.send(o.data)},getJSON:function(o,x){P.ajax({url:o,success:x,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(o,x,w){let S=new h.FormData;M(x,function(U,J){S.append(J,U)}),S.append("b64","true");let{filename:r,type:u}=x;return h.fetch(o,Ne({method:"POST",body:S},w)).then(U=>{U.ok&&U.text().then(J=>{let B=document.createElement("a");B.href=`data:${u};base64,${J}`,B.download=r,B.click(),j(B)})})}};return P}),te(d,"Extensions/Exporting/Exporting.js",[d["Core/Renderer/HTML/AST.js"],d["Core/Chart/Chart.js"],d["Core/Chart/ChartNavigationComposition.js"],d["Core/Defaults.js"],d["Extensions/Exporting/ExportingDefaults.js"],d["Extensions/Exporting/ExportingSymbols.js"],d["Extensions/Exporting/Fullscreen.js"],d["Core/Globals.js"],d["Core/HttpUtilities.js"],d["Core/Utilities.js"]],function(s,c,h,j,M,P,o,x,w,S){var r;let{defaultOptions:u}=j,{doc:U,SVG_NS:J,win:B}=x,{addEvent:z,css:X,createElement:Z,discardElement:de,extend:oe,find:Se,fireEvent:re,isObject:Te,merge:Q,objectEach:De,pick:pe,removeEvent:Fe,uniqueKey:Me}=S;return function(he){let se,fe=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/^parentRule$/,/^(cssRules|ownerRules)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/,/^\d+$/],me=["fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","textAnchor","x","y"];he.inlineAllowlist=[];let m=["clipPath","defs","desc"];function O(e){let a,n,i=this,y=i.renderer,p=Q(i.options.navigation.buttonOptions,e),t=p.onclick,l=p.menuItems,N=p.symbolSize||12;if(i.btnCount||(i.btnCount=0),i.exportDivElements||(i.exportDivElements=[],i.exportSVGElements=[]),p.enabled===!1||!p.theme)return;let k=i.styledMode?{}:p.theme;t?n=function(f){f&&f.stopPropagation(),t.call(i,f)}:l&&(n=function(f){f&&f.stopPropagation(),i.contextMenu(T.menuClassName,l,T.translateX||0,T.translateY||0,T.width||0,T.height||0,T),T.setState(2)}),p.text&&p.symbol?k.paddingLeft=pe(k.paddingLeft,30):p.text||oe(k,{width:p.width,height:p.height,padding:0});let T=y.button(p.text,0,0,n,k,void 0,void 0,void 0,void 0,p.useHTML).addClass(e.className).attr({title:pe(i.options.lang[p._titleKey||p.titleKey],"")});T.menuClassName=e.menuClassName||"highcharts-menu-"+i.btnCount++,p.symbol&&(a=y.symbol(p.symbol,Math.round((p.symbolX||0)-N/2),Math.round((p.symbolY||0)-N/2),N,N,{width:N,height:N}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(T),i.styledMode||a.attr({stroke:p.symbolStroke,fill:p.symbolFill,"stroke-width":p.symbolStrokeWidth||1})),T.add(i.exportingGroup).align(oe(p,{width:T.width,x:pe(p.x,i.buttonOffset)}),!0,"spacingBox"),i.buttonOffset+=((T.width||0)+p.buttonSpacing)*(p.align==="right"?-1:1),i.exportSVGElements.push(T,a)}function g(){if(!this.printReverseInfo)return;let{childNodes:e,origDisplay:a,resetParams:n}=this.printReverseInfo;this.moveContainers(this.renderTo),[].forEach.call(e,function(i,y){i.nodeType===1&&(i.style.display=a[y]||"")}),this.isPrinting=!1,n&&this.setSize.apply(this,n),delete this.printReverseInfo,se=void 0,re(this,"afterPrint")}function E(){let e=U.body,a=this.options.exporting.printMaxWidth,n={childNodes:e.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer?.reset(void 0,0),re(this,"beforePrint"),a&&this.chartWidth>a&&(n.resetParams=[this.options.chart.width,void 0,!1],this.setSize(a,void 0,!1)),[].forEach.call(n.childNodes,function(i,y){i.nodeType===1&&(n.origDisplay[y]=i.style.display,i.style.display="none")}),this.moveContainers(e),this.printReverseInfo=n}function D(e){e.renderExporting(),z(e,"redraw",e.renderExporting),z(e,"destroy",e.destroyExport)}function v(e,a,n,i,y,p,t){let l=this,N=l.options.navigation,k=l.chartWidth,T=l.chartHeight,f="cache-"+e,V=Math.max(y,p),K,F=l[f];F||(l.exportContextMenu=l[f]=F=Z("div",{className:e},Ne({position:"absolute",zIndex:1e3,padding:V+"px",pointerEvents:"auto"},l.renderer.style),l.scrollablePlotArea?.fixedDiv||l.container),K=Z("ul",{className:"highcharts-menu"},l.styledMode?{}:{listStyle:"none",margin:0,padding:0},F),l.styledMode||X(K,oe({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},N.menuStyle)),F.hideMenu=function(){X(F,{display:"none"}),t&&t.setState(0),l.openMenu=!1,X(l.renderTo,{overflow:"hidden"}),X(l.container,{overflow:"hidden"}),S.clearTimeout(F.hideTimer),re(l,"exportMenuHidden")},l.exportEvents.push(z(F,"mouseleave",function(){F.hideTimer=B.setTimeout(F.hideMenu,500)}),z(F,"mouseenter",function(){S.clearTimeout(F.hideTimer)}),z(U,"mouseup",function(C){l.pointer?.inClass(C.target,e)||F.hideMenu()}),z(F,"click",function(){l.openMenu&&F.hideMenu()})),a.forEach(function(C){if(typeof C=="string"&&(C=l.options.exporting.menuItemDefinitions[C]),Te(C,!0)){let ee;C.separator?ee=Z("hr",void 0,void 0,K):(C.textKey==="viewData"&&l.isDataTableVisible&&(C.textKey="hideData"),ee=Z("li",{className:"highcharts-menu-item",onclick:function(W){W&&W.stopPropagation(),F.hideMenu(),typeof C!="string"&&C.onclick&&C.onclick.apply(l,arguments)}},void 0,K),s.setElementHTML(ee,C.text||l.options.lang[C.textKey]),l.styledMode||(ee.onmouseover=function(){X(this,N.menuItemHoverStyle)},ee.onmouseout=function(){X(this,N.menuItemStyle)},X(ee,oe({cursor:"pointer"},N.menuItemStyle||{})))),l.exportDivElements.push(ee)}}),l.exportDivElements.push(K,F),l.exportMenuWidth=F.offsetWidth,l.exportMenuHeight=F.offsetHeight);let H={display:"block"};n+(l.exportMenuWidth||0)>k?H.right=k-n-y-V+"px":H.left=n-V+"px",i+p+(l.exportMenuHeight||0)>T&&t.alignOptions?.verticalAlign!=="top"?H.bottom=T-i-V+"px":H.top=i+p-V+"px",X(F,H),X(l.renderTo,{overflow:""}),X(l.container,{overflow:""}),l.openMenu=!0,re(l,"exportMenuShown")}function L(e){let a,n=e?e.target:this,i=n.exportSVGElements,y=n.exportDivElements,p=n.exportEvents;i&&(i.forEach((t,l)=>{t&&(t.onclick=t.ontouchstart=null,n[a="cache-"+t.menuClassName]&&delete n[a],i[l]=t.destroy())}),i.length=0),n.exportingGroup&&(n.exportingGroup.destroy(),delete n.exportingGroup),y&&(y.forEach(function(t,l){t&&(S.clearTimeout(t.hideTimer),Fe(t,"mouseleave"),y[l]=t.onmouseout=t.onmouseover=t.ontouchstart=t.onclick=null,de(t))}),y.length=0),p&&(p.forEach(function(t){t()}),p.length=0)}function b(e,a){let n=this.getSVGForExport(e,a);e=Q(this.options.exporting,e),w.post(e.url,{filename:e.filename?e.filename.replace(/\//g,"-"):this.getFilename(),type:e.type,width:e.width,scale:e.scale,svg:n},e.fetchOptions)}function _(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function A(){let e=this.userOptions.title&&this.userOptions.title.text,a=this.options.exporting.filename;return a?a.replace(/\//g,"-"):(typeof e=="string"&&(a=e.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z\d\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!a||a.length<5)&&(a="chart"),a)}function Y(e){let a,n,i=Q(this.options,e);i.plotOptions=Q(this.userOptions.plotOptions,e&&e.plotOptions),i.time=Q(this.userOptions.time,e&&e.time);let y=Z("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},U.body),p=this.renderTo.style.width,t=this.renderTo.style.height,l=i.exporting.sourceWidth||i.chart.width||/px$/.test(p)&&parseInt(p,10)||(i.isGantt?800:600),N=i.exporting.sourceHeight||i.chart.height||/px$/.test(t)&&parseInt(t,10)||400;oe(i.chart,{animation:!1,renderTo:y,forExport:!0,renderer:"SVGRenderer",width:l,height:N}),i.exporting.enabled=!1,delete i.data,i.series=[],this.series.forEach(function(f){(n=Q(f.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:f.visible})).isInternal||i.series.push(n)});let k={};this.axes.forEach(function(f){f.userOptions.internalKey||(f.userOptions.internalKey=Me()),f.options.isInternal||(k[f.coll]||(k[f.coll]=!0,i[f.coll]=[]),i[f.coll].push(Q(f.userOptions,{visible:f.visible,type:f.type,uniqueNames:f.uniqueNames})))}),i.colorAxis=this.userOptions.colorAxis;let T=new this.constructor(i,this.callback);return e&&["xAxis","yAxis","series"].forEach(function(f){let V={};e[f]&&(V[f]=e[f],T.update(V))}),this.axes.forEach(function(f){let V=Se(T.axes,function(C){return C.options.internalKey===f.userOptions.internalKey}),K=f.getExtremes(),F=K.userMin,H=K.userMax;V&&(F!==void 0&&F!==V.min||H!==void 0&&H!==V.max)&&V.setExtremes(F,H,!0,!1)}),a=T.getChartHTML(),re(this,"getSVG",{chartCopy:T}),a=this.sanitizeSVG(a,i),i=null,T.destroy(),de(y),a}function ae(e,a){let n=this.options.exporting;return this.getSVG(Q({chart:{borderRadius:0}},n.chartOptions,a,{exporting:{sourceWidth:e&&e.sourceWidth||n.sourceWidth,sourceHeight:e&&e.sourceHeight||n.sourceHeight}}))}function le(){let e,a=he.inlineAllowlist,n={},i=U.createElement("iframe");X(i,{width:"1px",height:"1px",visibility:"hidden"}),U.body.appendChild(i);let y=i.contentWindow&&i.contentWindow.document;y&&y.body.appendChild(y.createElementNS(J,"svg")),function p(t){let l,N,k,T,f,V,K={};if(y&&t.nodeType===1&&m.indexOf(t.nodeName)===-1){if(l=B.getComputedStyle(t,null),N=t.nodeName==="svg"?{}:B.getComputedStyle(t.parentNode,null),!n[t.nodeName]){e=y.getElementsByTagName("svg")[0],k=y.createElementNS(t.namespaceURI,t.nodeName),e.appendChild(k);let F=B.getComputedStyle(k,null),H={};for(let C in F)C.length<1e3&&typeof F[C]=="string"&&!/^\d+$/.test(C)&&(H[C]=F[C]);n[t.nodeName]=H,t.nodeName==="text"&&delete n.text.fill,e.removeChild(k)}for(let F in l)(x.isFirefox||x.isMS||x.isSafari||Object.hasOwnProperty.call(l,F))&&function(H,C){if(T=f=!1,a.length){for(V=a.length;V--&&!f;)f=a[V].test(C);T=!f}for(C==="transform"&&H==="none"&&(T=!0),V=fe.length;V--&&!T;){if(C.length>1e3)throw Error("Input too long");T=fe[V].test(C)||typeof H=="function"}!T&&(N[C]!==H||t.nodeName==="svg")&&n[t.nodeName][C]!==H&&(me&&me.indexOf(C)===-1?K[C]=H:H&&t.setAttribute(C.replace(/[A-Z]/g,function(ee){return"-"+ee.toLowerCase()}),H))}(l[F],F);if(X(t,K),t.nodeName==="svg"&&t.setAttribute("stroke-width","1px"),t.nodeName==="text")return;[].forEach.call(t.children||t.childNodes,p)}}(this.container.querySelector("svg")),e.parentNode.removeChild(e),i.parentNode.removeChild(i)}function $(e){let{scrollablePlotArea:a}=this;(a?[a.fixedDiv,a.scrollingContainer]:[this.container]).forEach(function(n){e.appendChild(n)})}function G(){let e=this,a=(n,i,y)=>{e.isDirtyExporting=!0,Q(!0,e.options[n],i),pe(y,!0)&&e.redraw()};e.exporting={update:function(n,i){a("exporting",n,i)}},h.compose(e).navigation.addUpdate((n,i)=>{a("navigation",n,i)})}function q(){let e=this;e.isPrinting||(se=e,x.isSafari||e.beforePrint(),setTimeout(()=>{B.focus(),B.print(),x.isSafari||setTimeout(()=>{e.afterPrint()},1e3)},1))}function ie(){let e=this,a=e.options.exporting,n=a.buttons,i=e.isDirtyExporting||!e.exportSVGElements;e.buttonOffset=0,e.isDirtyExporting&&e.destroyExport(),i&&a.enabled!==!1&&(e.exportEvents=[],e.exportingGroup=e.exportingGroup||e.renderer.g("exporting-group").attr({zIndex:3}).add(),De(n,function(y){e.addButton(y)}),e.isDirtyExporting=!1)}function I(e,a){let n=e.indexOf("</svg>")+6,i=e.substr(n);return e=e.substr(0,n),a&&a.exporting&&a.exporting.allowHTML&&i&&(i='<foreignObject x="0" y="0" width="'+a.chart.width+'" height="'+a.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+i.replace(/(<(?:img|br).*?(?=\>))>/g,"$1 />")+"</body></foreignObject>",e=e.replace("</svg>",i+"</svg>")),e=e.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery\d+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;)\;?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS\d+\:)?href=/g," xlink:href=").replace(/\n+/g," ").replace(/(fill|stroke)="rgba\(([ \d]+,[ \d]+,[ \d]+),([ \d\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\xA0").replace(/&shy;/g,"\xAD")}he.compose=function(e,a){P.compose(a),o.compose(e);let n=e.prototype;n.exportChart||(n.afterPrint=g,n.exportChart=b,n.inlineStyles=le,n.print=q,n.sanitizeSVG=I,n.getChartHTML=_,n.getSVG=Y,n.getSVGForExport=ae,n.getFilename=A,n.moveContainers=$,n.beforePrint=E,n.contextMenu=v,n.addButton=O,n.destroyExport=L,n.renderExporting=ie,n.callbacks.push(D),z(e,"init",G),x.isSafari&&B.matchMedia("print").addListener(function(i){se&&(i.matches?se.beforePrint():se.afterPrint())}),u.exporting=Q(M.exporting,u.exporting),u.lang=Q(M.lang,u.lang),u.navigation=Q(M.navigation,u.navigation))}}(r||(r={})),r}),te(d,"masters/modules/exporting.src.js",[d["Core/Globals.js"],d["Extensions/Exporting/Exporting.js"],d["Core/HttpUtilities.js"]],function(s,c,h){return s.HttpUtilities=s.HttpUtilities||h,s.ajax=s.HttpUtilities.ajax,s.getJSON=s.HttpUtilities.getJSON,s.post=s.HttpUtilities.post,c.compose(s.Chart,s.Renderer),s})})});var ot=je((gt,Ce)=>{"use strict";(function(R){typeof Ce=="object"&&Ce.exports?(R.default=R,Ce.exports=R):typeof define=="function"&&define.amd?define("highcharts/modules/export-data",["highcharts","highcharts/modules/exporting"],function(d){return R(d),R.Highcharts=d,R}):R(typeof Highcharts<"u"?Highcharts:void 0)})(function(R){"use strict";var d=R?R._modules:{};function te(s,c,h,j){s.hasOwnProperty(c)||(s[c]=j.apply(null,h),typeof CustomEvent=="function"&&R.win.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:c,module:s[c]}})))}te(d,"Extensions/DownloadURL.js",[d["Core/Globals.js"]],function(s){let{isSafari:c,win:h,win:{document:j}}=s,M=h.URL||h.webkitURL||h;function P(o){let x=o.replace(/filename=.*;/,"").match(/data:([^;]*)(;base64)?,([A-Z+\d\/]+)/i);if(x&&x.length>3&&h.atob&&h.ArrayBuffer&&h.Uint8Array&&h.Blob&&M.createObjectURL){let w=h.atob(x[3]),S=new h.ArrayBuffer(w.length),r=new h.Uint8Array(S);for(let u=0;u<r.length;++u)r[u]=w.charCodeAt(u);return M.createObjectURL(new h.Blob([r],{type:x[1]}))}}return{dataURLtoBlob:P,downloadURL:function(o,x){let w=h.navigator,S=j.createElement("a");if(typeof o!="string"&&!(o instanceof String)&&w.msSaveOrOpenBlob){w.msSaveOrOpenBlob(o,x);return}if(o=""+o,w.userAgent.length>1e3)throw Error("Input too long");let r=/Edge\/\d+/.test(w.userAgent);if((c&&typeof o=="string"&&o.indexOf("data:application/pdf")===0||r||o.length>2e6)&&!(o=P(o)||""))throw Error("Failed to convert to blob");if(S.download!==void 0)S.href=o,S.download=x,j.body.appendChild(S),S.click(),j.body.removeChild(S);else try{if(!h.open(o,"chart"))throw Error("Failed to open window")}catch{h.location.href=o}}}}),te(d,"Extensions/ExportData/ExportDataDefaults.js",[],function(){return{exporting:{csv:{annotations:{itemDelimiter:"; ",join:!1},columnHeaderFormatter:null,dateFormat:"%Y-%m-%d %H:%M:%S",decimalPoint:null,itemDelimiter:null,lineDelimiter:`
`},showTable:!1,useMultiLevelHeaders:!0,useRowspanHeaders:!0,showExportInProgress:!0},lang:{downloadCSV:"Download CSV",downloadXLS:"Download XLS",exportData:{annotationHeader:"Annotations",categoryHeader:"Category",categoryDatetimeHeader:"DateTime"},viewData:"View data table",hideData:"Hide data table",exportInProgress:"Exporting..."}}}),te(d,"Extensions/ExportData/ExportData.js",[d["Core/Renderer/HTML/AST.js"],d["Core/Defaults.js"],d["Extensions/DownloadURL.js"],d["Extensions/ExportData/ExportDataDefaults.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(s,c,h,j,M,P){let{getOptions:o,setOptions:x}=c,{downloadURL:w}=h,{doc:S,win:r}=M,{addEvent:u,defined:U,extend:J,find:B,fireEvent:z,isNumber:X,pick:Z}=P;function de(m){let O=!!this.options.exporting?.showExportInProgress,g=r.requestAnimationFrame||setTimeout;g(()=>{O&&this.showLoading(this.options.lang.exportInProgress),g(()=>{try{m.call(this)}finally{O&&this.hideLoading()}})})}function oe(){de.call(this,()=>{let m=this.getCSV(!0);w(he(m,"text/csv")||"data:text/csv,\uFEFF"+encodeURIComponent(m),this.getFilename()+".csv")})}function Se(){de.call(this,()=>{let m='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>Ark1</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--><style>td{border:none;font-family: Calibri, sans-serif;} .number{mso-number-format:"0.00";} .text{ mso-number-format:"@";}</style><meta name=ProgId content=Excel.Sheet><meta charset=UTF-8></head><body>'+this.getTable(!0)+"</body></html>";w(he(m,"application/vnd.ms-excel")||"data:application/vnd.ms-excel;base64,"+r.btoa(unescape(encodeURIComponent(m))),this.getFilename()+".xls")})}function re(m){let O="",g=this.getDataRows(),E=this.options.exporting.csv,D=Z(E.decimalPoint,E.itemDelimiter!==","&&m?1.1.toLocaleString()[1]:"."),v=Z(E.itemDelimiter,D===","?";":","),L=E.lineDelimiter;return g.forEach((b,_)=>{let A="",Y=b.length;for(;Y--;)typeof(A=b[Y])=="string"&&(A=`"${A}"`),typeof A=="number"&&D!=="."&&(A=A.toString().replace(".",D)),b[Y]=A;b.length=g.length?g[0].length:0,O+=b.join(v),_<g.length-1&&(O+=L)}),O}function Te(m){let O,g,E=this.hasParallelCoordinates,D=this.time,v=this.options.exporting&&this.options.exporting.csv||{},L=this.xAxis,b={},_=[],A=[],Y=[],ae=this.options.lang.exportData,le=ae.categoryHeader,$=ae.categoryDatetimeHeader,G=function(t,l,N){if(v.columnHeaderFormatter){let k=v.columnHeaderFormatter(t,l,N);if(k!==!1)return k}return t?t.bindAxes?m?{columnTitle:N>1?l:t.name,topLevelColumnTitle:t.name}:t.name+(N>1?" ("+l+")":""):t.options.title&&t.options.title.text||(t.dateTime?$:le):le},q=function(t,l,N){let k={},T={};return l.forEach(function(f){let V=(t.keyToAxis&&t.keyToAxis[f]||f)+"Axis",K=X(N)?t.chart[V][N]:t[V];k[f]=K&&K.categories||[],T[f]=K&&K.dateTime}),{categoryMap:k,dateTimeValueAxisMap:T}},ie=function(t,l){let N=t.pointArrayMap||["y"];return t.data.some(k=>k.y!==void 0&&k.name)&&l&&!l.categories&&t.exportKey!=="name"?["x",...N]:N},I=[],e,a,n,i=0,y,p;for(y in this.series.forEach(function(t){let l=t.options.keys,N=t.xAxis,k=l||ie(t,N),T=k.length,f=!t.requireSorting&&{},V=L.indexOf(N),K=q(t,k),F,H;if(t.options.includeInDataExport!==!1&&!t.options.isInternal&&t.visible!==!1){for(B(I,function(C){return C[0]===V})||I.push([V,i]),H=0;H<T;)n=G(t,k[H],k.length),Y.push(n.columnTitle||n),m&&A.push(n.topLevelColumnTitle||n),H++;F={chart:t.chart,autoIncrement:t.autoIncrement,options:t.options,pointArrayMap:t.pointArrayMap,index:t.index},t.options.data.forEach(function(C,ee){let W,Oe,xe,ue={series:F};E&&(K=q(t,k,ee)),t.pointClass.prototype.applyOptions.apply(ue,[C]);let be=t.data[ee]&&t.data[ee].name;if(W=(ue.x??"")+","+be,H=0,(!N||t.exportKey==="name"||!E&&N&&N.hasNames&&be)&&(W=be),f&&(f[W]&&(W+="|"+ee),f[W]=!0),b[W]){let ne=`${W},${b[W].pointers[t.index]}`,ge=W;b[W].pointers[t.index]&&(b[ne]||(b[ne]=[],b[ne].xValues=[],b[ne].pointers=[]),W=ne),b[ge].pointers[t.index]+=1}else{b[W]=[],b[W].xValues=[];let ne=[];for(let ge=0;ge<t.chart.series.length;ge++)ne[ge]=0;b[W].pointers=ne,b[W].pointers[t.index]=1}for(b[W].x=ue.x,b[W].name=be,b[W].xValues[V]=ue.x;H<T;)xe=ue[Oe=k[H]],b[W][i+H]=Z(K.categoryMap[Oe][xe],K.dateTimeValueAxisMap[Oe]?D.dateFormat(v.dateFormat,xe):null,xe),H++}),i+=H}}),b)Object.hasOwnProperty.call(b,y)&&_.push(b[y]);for(a=m?[A,Y]:[Y],i=I.length;i--;)O=I[i][0],g=I[i][1],e=L[O],_.sort(function(t,l){return t.xValues[O]-l.xValues[O]}),p=G(e),a[0].splice(g,0,p),m&&a[1]&&a[1].splice(g,0,p),_.forEach(function(t){let l=t.name;e&&!U(l)&&(e.dateTime?(t.x instanceof Date&&(t.x=t.x.getTime()),l=D.dateFormat(v.dateFormat,t.x)):l=e.categories?Z(e.names[t.x],e.categories[t.x],t.x):t.x),t.splice(g,0,l)});return z(this,"exportData",{dataRows:a=a.concat(_)}),a}function Q(m){let O=g=>{if(!g.tagName||g.tagName==="#text")return g.textContent||"";let E=g.attributes,D=`<${g.tagName}`;return E&&Object.keys(E).forEach(v=>{let L=E[v];D+=` ${v}="${L}"`}),D+=">"+(g.textContent||""),(g.children||[]).forEach(v=>{D+=O(v)}),D+=`</${g.tagName}>`};return O(this.getTableAST(m))}function De(m){let O=0,g=[],E=this.options,D=m?1.1.toLocaleString()[1]:".",v=Z(E.exporting.useMultiLevelHeaders,!0),L=this.getDataRows(v),b=v?L.shift():null,_=L.shift(),A=function($,G){let q=$.length;if(G.length!==q)return!1;for(;q--;)if($[q]!==G[q])return!1;return!0},Y=function($,G,q,ie){let I=Z(ie,""),e="highcharts-text"+(G?" "+G:"");return typeof I=="number"?(I=I.toString(),D===","&&(I=I.replace(".",D)),e="highcharts-number"):ie||(e="highcharts-empty"),{tagName:$,attributes:q=J({class:e},q),textContent:I}};E.exporting.tableCaption!==!1&&g.push({tagName:"caption",attributes:{class:"highcharts-table-caption"},textContent:Z(E.exporting.tableCaption,E.title.text?E.title.text:"Chart")});for(let $=0,G=L.length;$<G;++$)L[$].length>O&&(O=L[$].length);g.push(function($,G,q){let ie=[],I=0,e=q||G&&G.length,a,n=0,i;if(v&&$&&G&&!A($,G)){let y=[];for(;I<e;++I)if((a=$[I])===$[I+1])++n;else if(n)y.push(Y("th","highcharts-table-topheading",{scope:"col",colspan:n+1},a)),n=0;else{a===G[I]?E.exporting.useRowspanHeaders?(i=2,delete G[I]):(i=1,G[I]=""):i=1;let p=Y("th","highcharts-table-topheading",{scope:"col"},a);i>1&&p.attributes&&(p.attributes.valign="top",p.attributes.rowspan=i),y.push(p)}ie.push({tagName:"tr",children:y})}if(G){let y=[];for(I=0,e=G.length;I<e;++I)G[I]!==void 0&&y.push(Y("th",null,{scope:"col"},G[I]));ie.push({tagName:"tr",children:y})}return{tagName:"thead",children:ie}}(b,_,Math.max(O,_.length)));let ae=[];L.forEach(function($){let G=[];for(let q=0;q<O;q++)G.push(Y(q?"td":"th",null,q?{}:{scope:"row"},$[q]));ae.push({tagName:"tr",children:G})}),g.push({tagName:"tbody",children:ae});let le={tree:{tagName:"table",id:`highcharts-data-table-${this.index}`,children:g}};return z(this,"aftergetTableAST",le),le.tree}function pe(){this.toggleDataTable(!1)}function Fe(m){let O=(m=Z(m,!this.isDataTableVisible))&&!this.dataTableDiv;if(O&&(this.dataTableDiv=S.createElement("div"),this.dataTableDiv.className="highcharts-data-table",this.renderTo.parentNode.insertBefore(this.dataTableDiv,this.renderTo.nextSibling)),this.dataTableDiv){let L=this.dataTableDiv.style,b=L.display;L.display=m?"block":"none",m?(this.dataTableDiv.innerHTML=s.emptyHTML,new s([this.getTableAST()]).addToDOM(this.dataTableDiv),z(this,"afterViewData",{element:this.dataTableDiv,wasHidden:O||b!==L.display})):z(this,"afterHideData")}this.isDataTableVisible=m;let g=this.exportDivElements,E=this.options.exporting,D=E&&E.buttons&&E.buttons.contextButton.menuItems,v=this.options.lang;if(E&&E.menuItemDefinitions&&v&&v.viewData&&v.hideData&&D&&g){let L=g[D.indexOf("viewData")];L&&s.setElementHTML(L,this.isDataTableVisible?v.hideData:v.viewData)}}function Me(){this.toggleDataTable(!0)}function he(m,O){let g=r.navigator,E=r.URL||r.webkitURL||r;try{if(g.msSaveOrOpenBlob&&r.MSBlobBuilder){let D=new r.MSBlobBuilder;return D.append(m),D.getBlob("image/svg+xml")}return E.createObjectURL(new r.Blob(["\uFEFF"+m],{type:O}))}catch{}}function se(){let m=this,O=m.dataTableDiv,g=(D,v)=>D.children[v].textContent,E=(D,v)=>(L,b)=>{let _,A;return _=g(v?L:b,D),A=g(v?b:L,D),_===""||A===""||isNaN(_)||isNaN(A)?_.toString().localeCompare(A):_-A};if(O&&m.options.exporting&&m.options.exporting.allowTableSorting){let D=O.querySelector("thead tr");D&&D.childNodes.forEach(v=>{let L=v.closest("table");v.addEventListener("click",function(){let b=[...O.querySelectorAll("tr:not(thead tr)")],_=[...v.parentNode.children];b.sort(E(_.indexOf(v),m.ascendingOrderInTable=!m.ascendingOrderInTable)).forEach(A=>{L.appendChild(A)}),_.forEach(A=>{["highcharts-sort-ascending","highcharts-sort-descending"].forEach(Y=>{A.classList.contains(Y)&&A.classList.remove(Y)})}),v.classList.add(m.ascendingOrderInTable?"highcharts-sort-ascending":"highcharts-sort-descending")})})}}function fe(){this.options&&this.options.exporting&&this.options.exporting.showTable&&!this.options.chart.forExport&&this.viewData()}function me(){this.dataTableDiv?.remove()}return{compose:function(m,O){let g=m.prototype;if(!g.getCSV){let E=o().exporting;u(m,"afterViewData",se),u(m,"render",fe),u(m,"destroy",me),g.downloadCSV=oe,g.downloadXLS=Se,g.getCSV=re,g.getDataRows=Te,g.getTable=Q,g.getTableAST=De,g.hideData=pe,g.toggleDataTable=Fe,g.viewData=Me,E&&(J(E.menuItemDefinitions,{downloadCSV:{textKey:"downloadCSV",onclick:function(){this.downloadCSV()}},downloadXLS:{textKey:"downloadXLS",onclick:function(){this.downloadXLS()}},viewData:{textKey:"viewData",onclick:function(){de.call(this,this.toggleDataTable)}}}),E.buttons&&E.buttons.contextButton.menuItems&&E.buttons.contextButton.menuItems.push("separator","downloadCSV","downloadXLS","viewData")),x(j);let{arearange:D,gantt:v,map:L,mapbubble:b,treemap:_,xrange:A}=O.types;D&&(D.prototype.keyToAxis={low:"y",high:"y"}),v&&(v.prototype.exportKey="name",v.prototype.keyToAxis={start:"x",end:"x"}),L&&(L.prototype.exportKey="name"),b&&(b.prototype.exportKey="name"),_&&(_.prototype.exportKey="name"),A&&(A.prototype.keyToAxis={x2:"x"})}}}}),te(d,"masters/modules/export-data.src.js",[d["Core/Globals.js"],d["Extensions/DownloadURL.js"],d["Extensions/ExportData/ExportData.js"]],function(s,c,h){return s.dataURLtoBlob=s.dataURLtoBlob||c.dataURLtoBlob,s.downloadURL=s.downloadURL||c.downloadURL,h.compose(s.Chart,s.Series),s})})});var st=ye(pt()),at=ye(dt()),lt=ye(nt()),ct=ye(ot());(0,lt.default)(st);(0,ct.default)(st);var rt=at.default.mixin({showClass:{popup:`
      animate__animated
      animate__fadeInUp
      animate__faster
    `},hideClass:{popup:`
      animate__animated
      animate__fadeOutDown
      animate__faster
    `}}),Ot=(()=>{let d=class d{constructor(s,c,h){this.api=s,this.spinner=c,this.primengConfig=h,this.data_series=[],this.categorias=[],this.tipos=[],this.column_colors=[],this.year=null,this.loading=!1,this.visible=!1,this.categorias=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],this.tipos=["Ingresos","Gastos"],this.column_colors=["#66BB6A","#FF5252"]}ngOnInit(){return ce(this,null,function*(){this.primengConfig.ripple=!0,this.load(!0),yield this.getYears(),yield this.poblarGrafica(new Date().getFullYear()),this.load(!1)})}fillSeries(){return ce(this,null,function*(){this.data_series=[];for(let s=0;s<=1;s++)yield this.data_series.push({name:this.tipos[s],type:"column",data:[0,0,0,0,0,0,0,0,0,0,0,0],color:this.column_colors[s],animation:{duration:1500,easing:c=>c<1/2.75?7.5625*c*c:c<2/2.75?7.5625*(c-=1.5/2.75)*c+.75:c<2.5/2.75?7.5625*(c-=2.25/2.75)*c+.9375:7.5625*(c-=2.625/2.75)*c+.984375}})})}getYears(){return ce(this,null,function*(){this.load(!0),this.listYear=[{value:null,label:"Seleccione A\xF1o"}],this.api.getYears().subscribe(s=>ce(this,null,function*(){for(let c=0;c<s.length;c++)this.listYear.push({label:s[c].year.toString(),value:s[c].year});this.year=this.listYear[0].value}),s=>{rt.fire("Error!",`${s.message}`,"error")},()=>this.load(!1))})}poblarGrafica(s){return ce(this,null,function*(){s&&(this.load(!0),this.api.getGastosByYear(s).subscribe(c=>ce(this,null,function*(){yield this.fillSeries(),(yield this.api.getIngresosByYear(s).toPromise()).forEach(o=>{this.data_series[0].data[o.mes-1]=Number(o.ingresos?o.ingresos:0)}),c.forEach(o=>{this.data_series[1].data[o.mes-1]=o.gastos?o.gastos:0});let j=parseFloat(this.data_series[0].data.reduce((o,x)=>o+x,0)),M=parseFloat(this.data_series[1].data.reduce((o,x)=>o+x,0)),P=Math.abs(j-M);this.chart=new Qe({chart:{type:"column"},accessibility:{enabled:!1},credits:{enabled:!1},title:{text:"Resultados del A\xF1o "+s},subtitle:{text:"Ganancia o Perdida del a\xF1o: (Ingresos) L. "+j+" - (Gastos) L. "+M+" = L. "+P},xAxis:{categories:this.categorias,crosshair:!0},yAxis:{min:0,title:{text:"Operaciones (Lps)"}},plotOptions:{series:{label:{connectorAllowed:!1},pointStart:0}},responsive:{rules:[{condition:{maxWidth:500},chartOptions:{legend:{layout:"horizontal",align:"center",verticalAlign:"bottom"}}}]},exporting:{enabled:!0},series:this.data_series})}),c=>{rt.fire("Error!",`${c.message}`,"error")},()=>this.load(!1)))})}load(s){s?(this.loading=!0,this.spinner.show()):(this.loading=!1,this.spinner.hide())}};d.\u0275fac=function(c){return new(c||d)(we(it),we(ze),we(qe))},d.\u0275cmp=Pe({type:d,selectors:[["app-graficas"]],standalone:!0,features:[Ue],decls:6,vars:5,consts:[[1,"card"],[1,"p-fluid","p-formgrid","grid"],[1,"field","col-12","md:col-3"],["appendTo","body","filterBy","label","placeholder","Seleccione A\xF1o",3,"ngModelChange","onChange","options","ngModel","filter","showClear"],[1,"field","col-12","md:col-12"],["id","contenedor",3,"chart"]],template:function(c,h){c&1&&(He(0,"div",0)(1,"div",1)(2,"div",2)(3,"p-dropdown",3),Ve("ngModelChange",function(M){return Ie(h.year,M)||(h.year=M),M}),Re("onChange",function(M){return h.poblarGrafica(M.value)}),Le()(),He(4,"div",4),Ae(5,"div",5),Le()()()),c&2&&(ke(3),ve("options",h.listYear),Ge("ngModel",h.year),ve("filter",!0)("showClear",!0),ke(2),ve("chart",h.chart))},dependencies:[tt,et,_e,Xe,Je,Ye,$e,Be,We,Ze,Ke]});let R=d;return R})();export{Ot as GraficasComponent};
